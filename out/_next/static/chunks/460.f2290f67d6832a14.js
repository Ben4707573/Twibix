(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{2269:(e,t,r)=>{"use strict";var s=r(9509);r(8375);var l=r(2115),a=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(l),n=void 0!==s&&s.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,r=t.name,s=void 0===r?"stylesheet":r,l=t.optimizeForSpeed,a=void 0===l?n:l;c(i(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",c("boolean"==typeof a,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=a,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,r=e.prototype;return r.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(n||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){if(c(i(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return n||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},r.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var r="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(s){n||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];c(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},r.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},r.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},r.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},r.makeStyleTag=function(e,t,r){t&&c(i(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var l=document.head||document.getElementsByTagName("head")[0];return r?l.insertBefore(s,r):l.appendChild(s),s},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},u={};function h(e,t){if(!t)return"jsx-"+e;var r=String(t),s=e+r;return u[s]||(u[s]="jsx-"+d(e+"-"+r)),u[s]}function m(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var r=e+t;return u[r]||(u[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[r]}var x=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,s=void 0===r?null:r,l=t.optimizeForSpeed,a=void 0!==l&&l;this._sheet=s||new o({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),s&&"boolean"==typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),s=r.styleId,l=r.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var a=l.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=a,this._instancesCounts[s]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var s=this._fromServer&&this._fromServer[r];s?(s.parentNode.removeChild(s),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],s=e[1];return a.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,s=e.id;if(r){var l=h(s,r);return{styleId:l,rules:Array.isArray(t)?t.map(function(e){return m(l,e)}):[m(l,t)]}}return{styleId:h(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),f=l.createContext(null);f.displayName="StyleSheetContext";var p=a.default.useInsertionEffect||a.default.useLayoutEffect,g="undefined"!=typeof window?new x:void 0;function y(e){var t=g||l.useContext(f);return t&&("undefined"==typeof window?t.add(e):p(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}y.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},t.style=y},7460:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var s=r(5155),l=r(9137),a=r.n(l),n=r(2115);function i(e){let{children:t,onClick:r,className:l="",variant:a="default",size:i="default",asChild:o,...c}=e,d=o?n.Children.only(t).type:"button";return(0,s.jsx)(d,{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background"," ").concat({default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-600 dark:hover:bg-gray-800 hover:bg-gray-100",secondary:"dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600 bg-gray-200 text-gray-800 hover:bg-gray-300"}[a]," ").concat({default:"h-10 py-2 px-4",sm:"h-8 px-3 text-xs",lg:"h-12 px-8 text-lg"}[i]," ").concat(l),onClick:r,...c,children:o?n.Children.only(t).props.children:t})}let o=(0,n.createContext)(null);function c(e){let{defaultValue:t,children:r,...l}=e,[a,i]=(0,n.useState)(t);return(0,s.jsx)(o.Provider,{value:{value:a,setValue:i},children:(0,s.jsx)("div",{...l,className:"flex flex-col",children:r})})}function d(e){let{children:t,className:r="",...l}=e;return(0,s.jsx)("div",{className:"flex bg-gray-800 rounded-lg p-1 ".concat(r),...l,children:t})}function u(e){let{value:t,children:r,className:l="",...a}=e,i=(0,n.useContext)(o),c=i.value===t;return(0,s.jsx)("button",{className:"px-3 py-2 rounded-md text-sm font-medium transition-all ".concat(c?"bg-gray-700 text-white":"text-gray-400 hover:text-gray-200"," ").concat(l),onClick:()=>i.setValue(t),...a,children:r})}function h(e){let{value:t,children:r,className:l="",...a}=e;return(0,n.useContext)(o).value!==t?null:(0,s.jsx)("div",{className:l,...a,children:r})}let m=(0,n.createContext)(null);function x(e){let{children:t,open:r,onOpenChange:l}=e,[a,i]=(0,n.useState)(!1),o=void 0!==r;return(0,s.jsx)(m.Provider,{value:{open:o?r:a,setOpen:e=>{o||i(e),l&&l(e)}},children:t})}function f(e){let{children:t,asChild:r}=e,{setOpen:l}=(0,n.useContext)(m);return r?n.cloneElement(t,{onClick:e=>{var r,s;null==(r=(s=t.props).onClick)||r.call(s,e),l(!0)}}):(0,s.jsx)("button",{onClick:()=>l(!0),children:t})}function p(e){let{children:t,className:r=""}=e,{open:l,setOpen:a}=(0,n.useContext)(m);return l?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 dialog-overlay",onClick:()=>a(!1),children:(0,s.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg max-w-md w-full ".concat(r),onClick:e=>e.stopPropagation(),children:[t,(0,s.jsx)("button",{className:"absolute top-3 right-3 text-gray-400 hover:text-white",onClick:()=>a(!1),children:"✕"})]})}):null}let g={"2x2":{PBL:[{name:"Adjacent Swap",algorithm:"R2 F2 R2"},{name:"Diagonal Swap",algorithm:"R U' R F2 R' U R'"},{name:"Y-Perm",algorithm:"F R U' R' U' R U R' F' R U R' U' R' F R F'"}],OLL:[{name:"Sune",algorithm:"R U R' U R U2 R'"},{name:"Anti-Sune",algorithm:"R U2 R' U' R U' R'"}]},"3x3":{F2L:[{name:"Basic Case 1",algorithm:"U (R U R')"},{name:"Basic Case 2",algorithm:"y' U' (L' U L)"}],OLL:[{name:"Sune",algorithm:"R U R' U R U2 R'"},{name:"Anti-Sune",algorithm:"R U2 R' U' R U' R'"},{name:"Double-Sune",algorithm:"R U R' U R U' R' U R U2 R'"}],PLL:[{name:"T Perm",algorithm:"R U R' U' R' F R2 U' R' U' R U R' F'"},{name:"Y Perm",algorithm:"F R U' R' U' R U R' F' R U R' U' R' F R F'"},{name:"J Perm",algorithm:"R U R' F' R U R' U' R' F R2 U' R'"}]},"4x4":{"OLL Parity":[{name:"Standard",algorithm:"r U2 x r U2 r U2 r' U2 l U2 r' U2 r U2 r' U2 r'"}],"PLL Parity":[{name:"Standard",algorithm:"r2 U2 r2 Uw2 r2 Uw2"}]}};function y(e){let{cubeType:t}=e;return(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg overflow-y-auto h-full flex flex-col",children:[(0,s.jsxs)("h2",{className:"text-xl py-3 px-4 sticky top-0 bg-gray-800 border-b border-gray-700 z-10",children:["Algorithms for ",t]}),(0,s.jsx)("div",{className:"p-4 flex-1 overflow-y-auto",children:Object.entries(g[t]||{}).map(e=>{let[t,r]=e;return(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-yellow-300 mb-2",children:t}),(0,s.jsx)("ul",{className:"space-y-2",children:r.map((e,t)=>(0,s.jsxs)("li",{className:"bg-gray-700 rounded p-3",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"font-mono text-sm mt-1",children:e.algorithm})]},t))})]},t)})})]})}function b(e){let{cubeType:t}=e,[r,l]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&l(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>l(!r),className:"fixed left-0 top-1/2 -translate-y-1/2 bg-gray-800 text-white p-2 rounded-r-md transition-transform z-30 ".concat(r?"translate-x-[280px]":"translate-x-0"),"aria-label":r?"Close algorithms drawer":"Open algorithms drawer",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-transform ".concat(r?"rotate-180":""),children:(0,s.jsx)("path",{d:"M9 18l6-6-6-6"})})}),r&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20",onClick:()=>l(!1)}),(0,s.jsx)("div",{className:"fixed left-0 top-0 bottom-0 w-[280px] bg-gray-900 shadow-lg transition-transform z-20 ".concat(r?"translate-x-0":"-translate-x-full"),children:(0,s.jsx)("div",{className:"h-full",children:(0,s.jsx)(y,{cubeType:t})})})]})}function v(e){let t,{scramble:r,cubeType:l}=e,a={U:"#FFFFFF",R:"#FF0000",F:"#00AF00",D:"#FFFF00",L:"#FF8000",B:"#0000FF"},i=(t="2x2"===l?2:"3x3"===l?3:"4x4"===l?4:"5x5"===l?5:"6x6"===l?6:"7x7"===l?7:3)<=3?24:t<=5?20:16,[o,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{(()=>{let e,s=()=>({U:Array(t*t).fill("U"),R:Array(t*t).fill("R"),F:Array(t*t).fill("F"),D:Array(t*t).fill("D"),L:Array(t*t).fill("L"),B:Array(t*t).fill("B")}),a=e=>{let r=[...e];return 2===t?[r[0],r[1],r[2],r[3]]=[e[2],e[0],e[3],e[1]]:3===t?[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8]]=[e[6],e[3],e[0],e[7],e[4],e[1],e[8],e[5],e[2]]:4===t&&([r[0],r[1],r[2],r[3],r[7],r[11],r[15],r[14],r[13],r[12],r[8],r[4]]=[e[12],e[8],e[4],e[0],e[1],e[2],e[3],e[7],e[11],e[15],e[14],e[13]],[r[5],r[6],r[10],r[9]]=[e[9],e[5],e[6],e[10]]),r},n=e=>{let t=[...e];for(let e=0;e<3;e++)t=a(t);return t},i=(e,r)=>{let s={U:[...e.U],R:[...e.R],F:[...e.F],D:[...e.D],L:[...e.L],B:[...e.B]},l=r[0].toUpperCase(),i=r.slice(1),o=i.includes("w")||i.includes("W"),c=i.includes("'"),d=i.includes("2"),u=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"outer";if(2===t)return({R:{pieces:[[s.U,[1,3]],[s.F,[1,3]],[s.D,[1,3]],[s.B,[0,2]]]},L:{pieces:[[s.U,[0,2]],[s.B,[1,3]],[s.D,[0,2]],[s.F,[0,2]]]},U:{pieces:[[s.B,[0,1]],[s.R,[0,1]],[s.F,[0,1]],[s.L,[0,1]]]},D:{pieces:[[s.F,[2,3]],[s.R,[2,3]],[s.B,[2,3]],[s.L,[2,3]]]},F:{pieces:[[s.U,[2,3]],[s.R,[0,2]],[s.D,[1,0]],[s.L,[3,1]]]},B:{pieces:[[s.U,[0,1]],[s.L,[0,2]],[s.D,[3,2]],[s.R,[1,3]]]}})[e]||{pieces:[]};if(3===t)switch(e){case"R":return{pieces:[[s.U,[2,5,8]],[s.F,[2,5,8]],[s.D,[2,5,8]],[s.B,[6,3,0]]]};case"L":return{pieces:[[s.U,[0,3,6]],[s.F,[0,3,6]],[s.D,[0,3,6]],[s.B,[8,5,2]]]};case"U":return{pieces:[[s.B,[0,1,2]],[s.R,[0,1,2]],[s.F,[0,1,2]],[s.L,[0,1,2]]]};case"D":return{pieces:[[s.F,[6,7,8]],[s.R,[6,7,8]],[s.B,[6,7,8]],[s.L,[6,7,8]]]};case"F":return{pieces:[[s.U,[6,7,8]],[s.R,[0,3,6]],[s.D,[2,1,0]],[s.L,[8,5,2]]]};case"B":return{pieces:[[s.U,[2,1,0]],[s.R,[8,5,2]],[s.D,[6,7,8]],[s.L,[0,3,6]]]}}else if(4===t){if("outer"===r)switch(e){case"R":return{pieces:[[s.U,[3,7,11,15]],[s.F,[3,7,11,15]],[s.D,[3,7,11,15]],[s.B,[12,8,4,0]]]};case"L":return{pieces:[[s.U,[0,4,8,12]],[s.F,[0,4,8,12]],[s.D,[0,4,8,12]],[s.B,[15,11,7,3]]]};case"U":return{pieces:[[s.B,[0,1,2,3]],[s.R,[0,1,2,3]],[s.F,[0,1,2,3]],[s.L,[0,1,2,3]]]};case"D":return{pieces:[[s.F,[12,13,14,15]],[s.R,[12,13,14,15]],[s.B,[12,13,14,15]],[s.L,[12,13,14,15]]]};case"F":return{pieces:[[s.U,[12,13,14,15]],[s.R,[0,4,8,12]],[s.D,[3,2,1,0]],[s.L,[15,11,7,3]]]};case"B":return{pieces:[[s.U,[3,2,1,0]],[s.L,[0,4,8,12]],[s.D,[12,13,14,15]],[s.R,[15,11,7,3]]]}}else if("inner"===r)switch(e){case"R":return{pieces:[[s.U,[2,6,10,14]],[s.F,[2,6,10,14]],[s.D,[2,6,10,14]],[s.B,[13,9,5,1]]]};case"L":return{pieces:[[s.U,[1,5,9,13]],[s.F,[1,5,9,13]],[s.D,[1,5,9,13]],[s.B,[14,10,6,2]]]};case"U":return{pieces:[[s.B,[4,5,6,7]],[s.R,[4,5,6,7]],[s.F,[4,5,6,7]],[s.L,[4,5,6,7]]]};case"D":return{pieces:[[s.F,[8,9,10,11]],[s.R,[8,9,10,11]],[s.B,[8,9,10,11]],[s.L,[8,9,10,11]]]};case"F":return{pieces:[[s.U,[8,9,10,11]],[s.R,[1,5,9,13]],[s.D,[7,6,5,4]],[s.L,[14,10,6,2]]]};case"B":return{pieces:[[s.U,[7,6,5,4]],[s.L,[1,5,9,13]],[s.D,[8,9,10,11]],[s.R,[14,10,6,2]]]}}}return{pieces:[]}};d?s[l]=a(a(s[l])):c?s[l]=n(s[l]):s[l]=a(s[l]);let h=(e,t,r)=>{if(0===e.length)return;let s=e.map(e=>e[1].map(t=>e[0][t]));t?(e[0][1].forEach((t,r)=>{e[0][0][t]=s[2][r]}),e[1][1].forEach((t,r)=>{e[1][0][t]=s[3][r]}),e[2][1].forEach((t,r)=>{e[2][0][t]=s[0][r]}),e[3][1].forEach((t,r)=>{e[3][0][t]=s[1][r]})):r?(e[0][1].forEach((t,r)=>{e[0][0][t]=s[3][r]}),e[3][1].forEach((t,r)=>{e[3][0][t]=s[2][r]}),e[2][1].forEach((t,r)=>{e[2][0][t]=s[1][r]}),e[1][1].forEach((t,r)=>{e[1][0][t]=s[0][r]})):(e[1][1].forEach((t,r)=>{e[1][0][t]=s[0][r]}),e[2][1].forEach((t,r)=>{e[2][0][t]=s[1][r]}),e[3][1].forEach((t,r)=>{e[3][0][t]=s[2][r]}),e[0][1].forEach((t,r)=>{e[0][0][t]=s[3][r]}))},m=u(l,"outer");if(m.pieces.length>0&&h(m.pieces,d,c),o&&4===t){let e=u(l,"inner");e.pieces.length>0&&h(e.pieces,d,c)}return s};try{if(r&&"Loading..."!==r){var o;let l;o=r.trim().split(/\s+/).filter(e=>e&&e.length>0),l=s(),o.filter(e=>!!e&&(2===t?/^[URFDLB]([']|2)?$/.test(e):3===t?/^([URFDLB]([']|2)?|[MSE]([']|2)?)$/.test(e):4===t&&/^([URFDLB][wW]?([']|2)?|[rlfudbs]([']|2)?)$/.test(e))).forEach(e=>{try{l=i(l,e)}catch(r){console.error("Failed to apply move ".concat(e," on ").concat(t,"x").concat(t," cube:"),r)}}),e=l}else e=s();c(e)}catch(e){console.error("Error initializing ".concat(l," cube:"),e),c(s())}})()},[r,l,t]);let d=e=>{let{face:t,size:r,faceState:l}=e;if(!l)return null;let n=i*(r>5?.8:r>3?.9:1);return(0,s.jsxs)("div",{className:"relative border-2 border-gray-800 shadow-md",style:{width:r*n+(r-1)*2,height:r*n+(r-1)*2},children:[(0,s.jsx)("div",{className:"absolute inset-0 grid",style:{gridTemplateColumns:"repeat(".concat(r,", 1fr)"),gridTemplateRows:"repeat(".concat(r,", 1fr)"),gap:"".concat(2,"px")},children:l.map((e,t)=>(0,s.jsx)("div",{className:"border border-black",style:{backgroundColor:a[e],boxShadow:"inset 0 0 3px rgba(0,0,0,0.3)"}},t))}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,s.jsx)("span",{className:"font-bold text-black text-opacity-80 text-xs bg-white bg-opacity-50 px-1 rounded",children:t})})]})};return o?(0,s.jsx)("div",{className:"flex flex-col items-center w-full",children:(0,s.jsx)("div",{className:"bg-white dark:bg-gray-700 p-4 rounded-lg shadow-md border border-gray-300 dark:border-gray-600 w-full mx-auto ".concat(t>5?"max-w-2xl":t>3?"max-w-xl":"max-w-lg"),children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"grid",style:{gridTemplateColumns:"1fr",gap:"2px",marginBottom:"2px"},children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(d,{face:"U",size:t,faceState:o.U})})}),(0,s.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"repeat(4, 1fr)",gap:"2px",marginBottom:"2px"},children:[(0,s.jsx)(d,{face:"L",size:t,faceState:o.L}),(0,s.jsx)(d,{face:"F",size:t,faceState:o.F}),(0,s.jsx)(d,{face:"R",size:t,faceState:o.R}),(0,s.jsx)(d,{face:"B",size:t,faceState:o.B})]}),(0,s.jsx)("div",{className:"grid",style:{gridTemplateColumns:"1fr",gap:"2px"},children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(d,{face:"D",size:t,faceState:o.D})})}),r&&"Loading..."!==r&&(0,s.jsxs)("div",{className:"mt-3 text-xs text-gray-600 dark:text-gray-300 max-w-full text-center",children:[(0,s.jsxs)("div",{className:"mb-1 font-medium",children:[l," Scramble (",r.trim().split(/\s+/).filter(e=>!!e&&(2===t?/^[URFDLB]([']|2)?$/.test(e):3===t?/^([URFDLB]([']|2)?|[MSE]([']|2)?)$/.test(e):4===t&&/^([URFDLB][wW]?([']|2)?|[rlfudbs]([']|2)?)$/.test(e))).length," moves)"]}),(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-1 p-2 ".concat(t>5?"max-h-60":"max-h-48"," overflow-y-auto bg-white dark:bg-gray-700 rounded-lg shadow-inner"),children:r.trim().split(/\s+/).map((e,r)=>(0,s.jsx)("span",{className:"inline-block ".concat(t>5?"bg-gray-100 dark:bg-gray-600 px-1.5 py-0.5 rounded text-sm":"bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded text-base"," font-mono"),children:e},r))})]})]})})}):(0,s.jsx)("div",{children:"Initializing cube..."})}function w(e){let{scramble:t}=e,r={U:"#00AF00",L:"#FF0000",R:"#0000FF",B:"#FFFF00"},[l,a]=(0,n.useState)(null);(0,n.useEffect)(()=>{(()=>{try{let r,s=()=>({U:Array(9).fill("U"),L:Array(9).fill("L"),R:Array(9).fill("R"),B:Array(9).fill("B")}),l=(e,t)=>{let r={U:[...e.U],L:[...e.L],R:[...e.R],B:[...e.B]},s=t[0].toUpperCase(),l=t.includes("'"),a=t.toLowerCase()===t,n={U:{edges:[[r.U,[3,6,7,8]],[r.L,[0,1,4]],[r.R,[0,2,4]],[r.B,[0,1,2]]]},L:{edges:[[r.L,[3,6,7,8]],[r.U,[0,3,6]],[r.R,[6,7,8]],[r.B,[0,3,6]]]},R:{edges:[[r.R,[3,6,7,8]],[r.U,[2,5,8]],[r.L,[6,7,8]],[r.B,[2,5,8]]]},B:{edges:[[r.B,[3,6,7,8]],[r.U,[0,1,2]],[r.L,[2,5,8]],[r.R,[0,3,6]]]},u:{edges:[[r.U,[0,1,2]]]},l:{edges:[[r.L,[0,1,2]]]},r:{edges:[[r.R,[0,1,2]]]},b:{edges:[[r.B,[0,1,2]]]}}[s];if(!n)return r;if(a){let[e,t]=n.edges[0],s=t.map(t=>e[t]);return l?(e[t[0]]=s[2],e[t[1]]=s[0],e[t[2]]=s[1]):(e[t[0]]=s[1],e[t[1]]=s[2],e[t[2]]=s[0]),r}let{edges:i}=n,o=i.map(e=>{let[t,r]=e;return r.map(e=>t[e])});if(l){let[e,t]=i[0];e[t[0]]=o[0][3],e[t[1]]=o[0][0],e[t[2]]=o[0][1],e[t[3]]=o[0][2];for(let e=1;e<=3;e++){let[t,r]=i[e],s=1===e?3:e-1;i[s][1];for(let e=0;e<r.length;e++)t[r[e]]=o[s][e]}}else{let[e,t]=i[0];e[t[0]]=o[0][1],e[t[1]]=o[0][2],e[t[2]]=o[0][3],e[t[3]]=o[0][0];for(let e=1;e<=3;e++){let[t,r]=i[e],s=3===e?1:e+1;i[s][1];for(let e=0;e<r.length;e++)t[r[e]]=o[s][e]}}return r};if(t&&"Loading..."!==t){var e;let a;e=t.trim().split(/\s+/).filter(e=>e&&e.length>0),a=s(),e.forEach(e=>{try{a=l(a,e)}catch(t){console.error("Failed to apply move ".concat(e," on pyraminx:"),t)}}),r=a}else r=s();a(r)}catch(e){console.error("Error initializing pyraminx:",e),a({U:Array(9).fill("U"),L:Array(9).fill("L"),R:Array(9).fill("R"),B:Array(9).fill("B")})}})()},[t]);let i=e=>{let{face:t,faceState:l}=e;if(!l)return null;let a=[{top:0,left:25},{top:21.65,left:12.5},{top:21.65,left:37.5},{top:43.3,left:0},{top:43.3,left:25},{top:43.3,left:50},{top:64.95,left:12.5},{top:64.95,left:37.5},{top:64.95,left:62.5}];return(0,s.jsxs)("div",{className:"relative",style:{width:75,height:75,marginBottom:7.5},children:[l.map((e,t)=>(0,s.jsx)("div",{className:"absolute w-5 h-5 border border-black rounded-sm transform rotate-45",style:{top:a[t].top,left:a[t].left,backgroundColor:r[e],boxShadow:"inset 0 0 3px rgba(0,0,0,0.3)"}},t)),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,s.jsx)("span",{className:"font-bold text-black text-opacity-80 text-xs bg-white bg-opacity-50 px-1 rounded z-10",children:t})})]})};return l?(0,s.jsx)("div",{className:"flex flex-col items-center w-full",children:(0,s.jsx)("div",{className:"bg-white dark:bg-gray-700 p-4 rounded-lg shadow-md border border-gray-300 dark:border-gray-600 w-full max-w-lg mx-auto",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 mb-2",children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(i,{face:"U",faceState:l.U})})}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,s.jsx)(i,{face:"L",faceState:l.L}),(0,s.jsx)(i,{face:"R",faceState:l.R}),(0,s.jsx)(i,{face:"B",faceState:l.B})]}),t&&"Loading..."!==t&&(0,s.jsxs)("div",{className:"mt-3 text-xs text-gray-600 dark:text-gray-300 max-w-full text-center",children:[(0,s.jsxs)("div",{className:"mb-1 font-medium",children:["Pyraminx Scramble (",t.trim().split(/\s+/).length," moves)"]}),(0,s.jsx)("div",{className:"flex flex-wrap justify-center gap-1 p-2 max-h-48 overflow-y-auto bg-white dark:bg-gray-700 rounded-lg shadow-inner",children:t.trim().split(/\s+/).map((e,t)=>(0,s.jsx)("span",{className:"inline-block bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded text-base font-mono",children:e},t))})]})]})})}):(0,s.jsx)("div",{children:"Initializing pyraminx..."})}let j=Math.sqrt(3)/2,F=Math.PI;class N{addElem(e){this.elements.push(e)}addText(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,[l,a]=t,n=r.font||"16px Arial",i=r.fill||"black",o=r.stroke||"none",c=r["stroke-width"]||"0";this.addElem('<text x="'.concat(l,'" y="').concat(a,'" \n      font-family="').concat(n.split(" ").slice(1).join(" "),'" chrome\n      font-size="').concat(parseInt(n)*s,'px" \n      fill="').concat(i,'" \n      stroke="').concat(o,'" \n      stroke-width="').concat(c,'"\n      text-anchor="middle" \n      dominant-baseline="middle">').concat(e,"</text>"))}renderGroup(e,t,r,s){return'<g transform="translate('.concat(e,",").concat(t,") scale(").concat(r/this.width,",").concat(s/this.height,')">').concat(this.elements.join(""),"</g>")}render(){return'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(this.width,'" height="').concat(this.height,'" viewBox="0 0 ').concat(this.width," ").concat(this.height,'">').concat(this.elements.join(""),"</svg>")}constructor(){this.width=0,this.height=0,this.elements=[]}}function R(e,t,r,s){let l;l=s?function(e,t){let[r,s,l,a,n,i]=t,o=[[],[]];for(let t=0;t<e[0].length;t++)o[0][t]=e[0][t]*r+e[1][t]*l+n,o[1][t]=e[0][t]*s+e[1][t]*a+i;return o}(r,s):r;let a=[];for(let e=0;e<l[0].length;e++)a.push("".concat(l[0][e],",").concat(l[1][e]));e.addElem('<polygon points="'.concat(a.join(" "),'" fill="').concat(t,'" stroke="black" stroke-width="1" />'))}function S(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,s=new N;return s.width=(4*e+1)*r,s.height=(3*e+1)*r,L(s,"U",0,e,t.U,r),L(s,"R",1,e,t.R,r),L(s,"F",2,e,t.F,r),L(s,"D",3,e,t.D,r),L(s,"L",4,e,t.L,r),L(s,"B",5,e,t.B,r),s}function L(e,t,r,s,l,a){let{x:n,y:i}={U:{x:s,y:0},R:{x:2*s,y:s},F:{x:s,y:s},D:{x:s,y:2*s},L:{x:0,y:s},B:{x:3*s,y:s}}[t];for(let t=0;t<s;t++)for(let r=0;r<s;r++)R(e,l[t*s+r],[[r,r+1,r+1,r],[t,t,t+1,t+1]],[a,n*a,i*a]);e.addText(t,[(n+s/2)*a,(i+s/2)*a],{font:"".concat(Math.max(14,a/2),"px Arial"),fill:"rgba(0,0,0,0.3)"})}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=new N;r.width=6*j*t,r.height=6*j*t;let s=e;for("string"==typeof e&&(s=e.split(""));s.length<20;)s.push("F");let l=0;for(let e=0;e<3;e++)for(let a=0;a<3;a++)for(let n=0;n<2*e+1;n++){let i,o=-j*e+j*n,c=e/2;i=n%2==0?[[o,o-j,o+j],[c,c+.5,c+.5]]:[[o-j,o,o+j],[c,c+.5,c]],R(r,{F:"#00AF00",R:"#FF0000",D:"#0000FF",L:"#FFFF00",U:"#00AF00",B:"#FFFF00"}[s[l]||"F"]||"#888888",function(e,t){let r=Math.cos(t),s=Math.sin(t),l=[[],[]];for(let t=0;t<e[0].length;t++)l[0][t]=e[0][t]*r-e[1][t]*s,l[1][t]=e[0][t]*s+e[1][t]*r;return l}(i,F/3*4*a),[t,3*j,3+(6*j-4.5)/2]),l++}return r.addText("CSTimer",[r.width-30,r.height-10],{font:"10px Arial",fill:"rgba(0,0,0,0.3)"}),r}function k(e){let{scramble:t,cubeType:r}=e,[l,a]=(0,n.useState)(null),i=(0,n.useRef)(null),o={U:"#FFFFFF",R:"#FF0000",F:"#00AF00",D:"#FFFF00",L:"#FF8000",B:"#0000FF"},c=3;if(r.includes("x")){let e=r.match(/(\d+)x\d+/);e&&(c=parseInt(e[1],10))}(0,n.useEffect)(()=>{if(!t||"Loading..."===t)return void d();try{u(t)}catch(e){console.error("Error visualizing scramble:",e),d()}},[t,r,c]);let d=()=>{let e={U:Array(c*c).fill(o.U),R:Array(c*c).fill(o.R),F:Array(c*c).fill(o.F),D:Array(c*c).fill(o.D),L:Array(c*c).fill(o.L),B:Array(c*c).fill(o.B)};a(S(c,e).render())},u=e=>{let t=h();if(!e||"Loading..."===e){console.warn("Invalid scramble string:",e),d();return}m(t,e.trim().split(/\s+/));let r=b(t);a(S(c,r).render())},h=()=>{let e={};for(let t of"URFDLB")e[t]=Array(c*c).fill(t);return e},m=(e,t)=>{for(let r of t){if(!r)continue;let{face:t,depth:s,amount:l}=x(r);t&&f(e,t,s,l)}return e},x=e=>{if(!e||""===e.trim())return{face:null,depth:0,amount:0};if(["M","E","S"].includes(e[0])){let t={M:{face:"L",depth:Math.floor(c/2)+c%2,reverse:!0},E:{face:"D",depth:Math.floor(c/2)+c%2,reverse:!1},S:{face:"F",depth:Math.floor(c/2)+c%2,reverse:!1}}[e[0]],r=1;return e.length>1&&("2"===e[1]?r=2:"'"===e[1]&&(r=3)),t.reverse&&(r=(4-r)%4),{face:t.face,depth:t.depth,amount:r}}let t=e[0],r=1,s=1,l=1,a="";for(;l<e.length&&!isNaN(parseInt(e[l]));)a+=e[l],l++;return a?r=parseInt(a):l<e.length&&"w"===e[l]&&(r=2,l++),l<e.length&&("2"===e[l]?s=2:"'"===e[l]&&(s=3)),{face:t,depth:r,amount:s}},f=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;for(let l=0;l<s;l++)r>=1&&p(e,t),g(e,t,r)},p=(e,t)=>{let r=[...e[t]],s=Array(c*c).fill(null);for(let e=0;e<c;e++)for(let t=0;t<c;t++){let l=t,a=c-1-e,n=e*c+t;s[l*c+a]=r[n]}e[t]=s},g=(e,t,r)=>{let s=[[],[],[],[]];if("U"===t){for(let t=0;t<r;t++)for(let r=0;r<c;r++)s[0].push(e.B[t*c+r]),s[1].push(e.R[t*c+r]),s[2].push(e.F[t*c+r]),s[3].push(e.L[t*c+r]);y(s);for(let t=0;t<r;t++)for(let r=0;r<c;r++)e.B[t*c+r]=s[0][t*c+r],e.R[t*c+r]=s[1][t*c+r],e.F[t*c+r]=s[2][t*c+r],e.L[t*c+r]=s[3][t*c+r]}else if("D"===t){for(let t=0;t<r;t++)for(let r=0;r<c;r++)s[0].push(e.F[(c-1-t)*c+r]),s[1].push(e.R[(c-1-t)*c+r]),s[2].push(e.B[(c-1-t)*c+r]),s[3].push(e.L[(c-1-t)*c+r]);y(s);for(let t=0;t<r;t++)for(let r=0;r<c;r++)e.F[(c-1-t)*c+r]=s[0][t*c+r],e.R[(c-1-t)*c+r]=s[1][t*c+r],e.B[(c-1-t)*c+r]=s[2][t*c+r],e.L[(c-1-t)*c+r]=s[3][t*c+r]}else if("F"===t){for(let t=0;t<r;t++)for(let r=0;r<c;r++)s[0].push(e.U[(c-1-t)*c+r]),s[1].push(e.R[r*c+t]),s[2].push(e.D[t*c+(c-1-r)]),s[3].push(e.L[(c-1-r)*c+(c-1-t)]);y(s);for(let t=0;t<r;t++)for(let r=0;r<c;r++)e.U[(c-1-t)*c+r]=s[0][t*c+r],e.R[r*c+t]=s[1][t*c+r],e.D[t*c+(c-1-r)]=s[2][t*c+r],e.L[(c-1-r)*c+(c-1-t)]=s[3][t*c+r]}else if("B"===t){for(let t=0;t<r;t++)for(let r=0;r<c;r++)s[0].push(e.U[t*c+(c-1-r)]),s[1].push(e.L[r*c+t]),s[2].push(e.D[(c-1-t)*c+r]),s[3].push(e.R[(c-1-r)*c+(c-1-t)]);y(s);for(let t=0;t<r;t++)for(let r=0;r<c;r++)e.U[t*c+(c-1-r)]=s[0][t*c+r],e.L[r*c+t]=s[1][t*c+r],e.D[(c-1-t)*c+r]=s[2][t*c+r],e.R[(c-1-r)*c+(c-1-t)]=s[3][t*c+r]}else if("R"===t){for(let t=0;t<r;t++)for(let r=0;r<c;r++)s[0].push(e.U[r*c+(c-1-t)]),s[1].push(e.B[(c-1-r)*c+t]),s[2].push(e.D[r*c+(c-1-t)]),s[3].push(e.F[r*c+(c-1-t)]);y(s);for(let t=0;t<r;t++)for(let r=0;r<c;r++)e.U[r*c+(c-1-t)]=s[0][t*c+r],e.B[(c-1-r)*c+t]=s[1][t*c+r],e.D[r*c+(c-1-t)]=s[2][t*c+r],e.F[r*c+(c-1-t)]=s[3][t*c+r]}else if("L"===t){for(let t=0;t<r;t++)for(let r=0;r<c;r++)s[0].push(e.U[r*c+t]),s[1].push(e.F[r*c+t]),s[2].push(e.D[r*c+t]),s[3].push(e.B[(c-1-r)*c+(c-1-t)]);y(s);for(let t=0;t<r;t++)for(let r=0;r<c;r++)e.U[r*c+t]=s[0][t*c+r],e.F[r*c+t]=s[1][t*c+r],e.D[r*c+t]=s[2][t*c+r],e.B[(c-1-r)*c+(c-1-t)]=s[3][t*c+r]}},y=e=>{let t=[...e[3]];e[3]=[...e[2]],e[2]=[...e[1]],e[1]=[...e[0]],e[0]=[...t]},b=e=>{let t={};for(let r of"URFDLB")t[r]=e[r].map(e=>o[e]);return t};return(0,s.jsx)("div",{ref:i,className:"cstimer-visualizer relative w-full",children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mx-auto",dangerouslySetInnerHTML:{__html:l}}),(0,s.jsx)("div",{className:"absolute bottom-2 right-2 text-xs text-gray-500",children:(0,s.jsx)("span",{title:"Visualization based on CSTimer",children:(0,s.jsxs)("a",{href:"https://github.com/cs0x7f/cstimer",target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-blue-500",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,s.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,s.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),(0,s.jsx)("span",{className:"ml-1",children:"CSTimer"})]})})})]}):(0,s.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,s.jsx)("span",{children:"Loading visualization..."})})})}function U(e){let{scramble:t}=e,[r,l]=(0,n.useState)(null),a=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(!t||"Loading..."===t)return void i();try{o(t)}catch(e){console.error("Error visualizing pyraminx scramble:",e),i()}},[t]);let i=()=>{l(D("FFFFFRRRRRLLLLLDDDDD").render())},o=e=>{if(!e||"Loading..."===e){console.warn("Invalid pyraminx scramble string:",e),i();return}let t=d();try{let r=c(e);u(t,r);let s=f(t),a=D(s);l(a.render())}catch(e){console.error("Error visualizing pyraminx scramble:",e),i()}},c=e=>e.trim().split(/\s+/),d=()=>({F:[["F"],["F","F"],["F","F","F"]],R:[["R"],["R","R"],["R","R","R"]],L:[["L"],["L","L"],["L","L","L"]],D:[["D"],["D","D"],["D","D","D"]]}),u=(e,t)=>{for(let r of t){if(!r)continue;let{face:t,tips:s,direction:l}=h(r);t&&m(e,t,l),s&&x(e,s,l)}},h=e=>{let t=null,r=null,s=1;return e[0]===e[0].toLowerCase()&&"rlu".includes(e[0])?(r=e[0].toUpperCase(),e.includes("'")&&(s=-1)):"RLUB".includes(e[0])&&(t=e[0],e.includes("'")&&(s=-1)),{face:t,tips:r,direction:s}},m=(e,t,r)=>{let s={};for(let r of({R:["F","L","D"],L:["F","R","D"],U:["F","R","L"],B:["F","R","L"],F:["R","L","D"]})[t]||[])s[r]=JSON.parse(JSON.stringify(e[r]));"R"===t?1===r?(e.F[0][0]=s.D[0][0],e.L[0][0]=s.F[0][0],e.D[0][0]=s.L[0][0],e.F[1][1]=s.D[1][1],e.L[1][1]=s.F[1][1],e.D[1][1]=s.L[1][1],e.F[1][0]=s.D[1][0],e.L[1][0]=s.F[1][0],e.D[1][0]=s.L[1][0]):(e.F[0][0]=s.L[0][0],e.D[0][0]=s.F[0][0],e.L[0][0]=s.D[0][0],e.F[1][1]=s.L[1][1],e.D[1][1]=s.F[1][1],e.L[1][1]=s.D[1][1],e.F[1][0]=s.L[1][0],e.D[1][0]=s.F[1][0],e.L[1][0]=s.D[1][0]):"L"===t?1===r?(e.F[0][0]=s.R[0][0],e.D[0][0]=s.F[0][0],e.R[0][0]=s.D[0][0],e.F[1][0]=s.R[1][0],e.D[1][1]=s.F[1][0],e.R[1][0]=s.D[1][1],e.F[1][1]=s.R[1][1],e.D[1][0]=s.F[1][1],e.R[1][1]=s.D[1][0]):(e.F[0][0]=s.D[0][0],e.R[0][0]=s.F[0][0],e.D[0][0]=s.R[0][0],e.F[1][0]=s.D[1][1],e.R[1][0]=s.F[1][0],e.D[1][1]=s.R[1][0],e.F[1][1]=s.D[1][0],e.R[1][1]=s.F[1][1],e.D[1][0]=s.R[1][1]):"U"===t||"B"===t?1===r?(e.F[0][0]=s.L[0][0],e.R[0][0]=s.F[0][0],e.L[0][0]=s.R[0][0],e.F[1][0]=s.L[1][0],e.R[1][0]=s.F[1][0],e.L[1][0]=s.R[1][0],e.F[1][1]=s.L[1][1],e.R[1][1]=s.F[1][1],e.L[1][1]=s.R[1][1]):(e.F[0][0]=s.R[0][0],e.L[0][0]=s.F[0][0],e.R[0][0]=s.L[0][0],e.F[1][0]=s.R[1][0],e.L[1][0]=s.F[1][0],e.R[1][0]=s.L[1][0],e.F[1][1]=s.R[1][1],e.L[1][1]=s.F[1][1],e.R[1][1]=s.L[1][1]):"F"===t&&(1===r?(e.R[0][0]=s.L[0][0],e.D[0][0]=s.R[0][0],e.L[0][0]=s.D[0][0],e.R[1][1]=s.L[1][1],e.D[1][0]=s.R[1][1],e.L[1][1]=s.D[1][0],e.R[1][0]=s.L[1][0],e.D[1][1]=s.R[1][0],e.L[1][0]=s.D[1][1]):(e.R[0][0]=s.D[0][0],e.L[0][0]=s.R[0][0],e.D[0][0]=s.L[0][0],e.R[1][1]=s.D[1][0],e.L[1][1]=s.R[1][1],e.D[1][0]=s.L[1][1],e.R[1][0]=s.D[1][1],e.L[1][0]=s.R[1][0],e.D[1][1]=s.L[1][0]))},x=(e,t,r)=>{if("R"===t){let t=e.R[0][0];1===r?(e.R[0][0]=e.F[0][0],e.F[0][0]=e.D[0][0],e.D[0][0]=t):(e.R[0][0]=e.D[0][0],e.D[0][0]=e.F[0][0],e.F[0][0]=t)}else if("L"===t){let t=e.L[0][0];1===r?(e.L[0][0]=e.D[0][0],e.D[0][0]=e.F[0][0],e.F[0][0]=t):(e.L[0][0]=e.F[0][0],e.F[0][0]=e.D[0][0],e.D[0][0]=t)}else if("U"===t){let t=e.F[0][0];1===r?(e.F[0][0]=e.R[0][0],e.R[0][0]=e.L[0][0],e.L[0][0]=t):(e.F[0][0]=e.L[0][0],e.L[0][0]=e.R[0][0],e.R[0][0]=t)}},f=e=>{let t="";for(let r of["F","R","L","D"])for(let s=0;s<e[r].length;s++)for(let l=0;l<e[r][s].length;l++)t+=e[r][s][l];for(;t.length<20;)t+="F";return t};return(0,s.jsx)("div",{ref:a,className:"cstimer-visualizer relative w-full",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mx-auto",dangerouslySetInnerHTML:{__html:r}}),(0,s.jsx)("div",{className:"absolute bottom-2 right-2 text-xs text-gray-500",children:(0,s.jsx)("span",{title:"Visualization based on CSTimer",children:(0,s.jsxs)("a",{href:"https://github.com/cs0x7f/cstimer",target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-blue-500",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,s.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,s.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),(0,s.jsx)("span",{className:"ml-1",children:"CSTimer"})]})})})]}):(0,s.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,s.jsx)("span",{children:"Loading visualization..."})})})}function C(e){let{scramble:t,cubeType:r}=e,l=["2x2","3x3","4x4","5x5","6x6","7x7"];if(![...l,"pyraminx"].includes(r))return(0,s.jsx)("div",{className:"w-full text-center p-4",children:(0,s.jsxs)("p",{className:"text-gray-500",children:["Scramble visualization is not available for ",r,"."]})});let a=l.includes(r)||"pyraminx"===r;return(0,s.jsx)("div",{className:"".concat("6x6"===r||"7x7"===r?"w-full max-w-3xl mx-auto":"4x4"===r||"5x5"===r?"w-full max-w-2xl mx-auto":"w-full max-w-xl mx-auto"," p-2 relative"),children:(0,s.jsx)("div",{className:"scramble-visualizer-container",children:a?"pyraminx"===r?(0,s.jsx)(U,{scramble:t}):(0,s.jsx)(k,{scramble:t,cubeType:r}):"pyraminx"===r?(0,s.jsx)(w,{scramble:t}):(0,s.jsx)(v,{scramble:t,cubeType:r})})})}function B(e){let{settings:t,setSettings:r,onResetHistory:l}=e,[a,o]=(0,n.useState)({...t,inspectionDuration:t.inspectionDuration||15}),[m,g]=(0,n.useState)(!1),y=e=>{o(t=>({...t,[e]:!t[e]}))};return(0,s.jsxs)(x,{open:m,onOpenChange:g,children:[(0,s.jsx)(f,{asChild:!0,children:(0,s.jsxs)(i,{variant:"outline",className:"flex items-center gap-2",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),(0,s.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),"Settings"]})}),(0,s.jsxs)(p,{className:"".concat(t.darkMode?"bg-gray-800 text-white":"bg-white text-gray-900"," max-w-xl"),children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Settings"}),(0,s.jsxs)(c,{defaultValue:"timer",className:"w-full",children:[(0,s.jsxs)(d,{className:"w-full grid grid-cols-3 mb-4",children:[(0,s.jsx)(u,{value:"timer",children:"Timer"}),(0,s.jsx)(u,{value:"appearance",children:"Appearance"}),(0,s.jsx)(u,{value:"advanced",children:"Advanced"})]}),(0,s.jsxs)(h,{value:"timer",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("label",{className:"flex-1",children:"Space bar starts/stops timer"}),(0,s.jsx)("div",{onClick:()=>y("useSpaceBar"),className:"w-12 h-6 rounded-full relative cursor-pointer transition-colors ".concat(a.useSpaceBar?"bg-blue-600":"bg-gray-600"),children:(0,s.jsx)("div",{className:"absolute w-5 h-5 rounded-full bg-white top-0.5 transition-transform ".concat(a.useSpaceBar?"translate-x-6":"translate-x-0.5")})})]}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)("label",{className:"flex-1 text-sm",children:"(When disabled, click timer to start/stop)"})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("label",{className:"flex-1",children:["Use hold delay (0.5s)",(0,s.jsx)("span",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"Requires holding spacebar for 0.5s before starting timer"})]}),(0,s.jsx)("div",{onClick:()=>y("useHoldDelay"),className:"w-12 h-6 rounded-full relative cursor-pointer transition-colors ".concat(a.useHoldDelay?"bg-blue-600":"bg-gray-600"),children:(0,s.jsx)("div",{className:"absolute w-5 h-5 rounded-full bg-white top-0.5 transition-transform ".concat(a.useHoldDelay?"translate-x-6":"translate-x-0.5")})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("label",{className:"flex-1",children:["Inspection time",(0,s.jsx)("span",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"Enable to use WCA-style inspection before timing"})]}),(0,s.jsx)("div",{onClick:()=>y("useInspection"),className:"w-12 h-6 rounded-full relative cursor-pointer transition-colors ".concat(a.useInspection?"bg-blue-600":"bg-gray-600"),children:(0,s.jsx)("div",{className:"absolute w-5 h-5 rounded-full bg-white top-0.5 transition-transform ".concat(a.useInspection?"translate-x-6":"translate-x-0.5")})})]}),a.useInspection&&(0,s.jsxs)("div",{className:"flex items-center justify-between ml-4 mt-2 mb-4",children:[(0,s.jsxs)("label",{className:"flex-1",children:["Inspection duration (seconds)",(0,s.jsx)("span",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"Default: 15s (WCA standard)"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("button",{onClick:()=>{a.inspectionDuration>1&&o(e=>({...e,inspectionDuration:e.inspectionDuration-1}))},className:"px-2 py-0.5 bg-gray-200 dark:bg-gray-700 rounded-l",children:"-"}),(0,s.jsx)("input",{type:"number",min:"1",max:"60",value:a.inspectionDuration||15,onChange:e=>{let t=parseInt(e.target.value);!isNaN(t)&&t>=1&&t<=60&&o(e=>({...e,inspectionDuration:t}))},className:"w-14 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-center border-0"}),(0,s.jsx)("button",{onClick:()=>{a.inspectionDuration<60&&o(e=>({...e,inspectionDuration:e.inspectionDuration+1}))},className:"px-2 py-0.5 bg-gray-200 dark:bg-gray-700 rounded-r",children:"+"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("label",{className:"flex-1",children:"Sound effects"}),(0,s.jsx)("div",{onClick:()=>y("useSounds"),className:"w-12 h-6 rounded-full relative cursor-pointer transition-colors ".concat(a.useSounds?"bg-blue-600":"bg-gray-600"),children:(0,s.jsx)("div",{className:"absolute w-5 h-5 rounded-full bg-white top-0.5 transition-transform ".concat(a.useSounds?"translate-x-6":"translate-x-0.5")})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("label",{className:"flex-1",children:["Hide UI during solves",(0,s.jsx)("span",{className:"block text-xs text-gray-500 dark:text-gray-400",children:"Provides a distraction-free solving experience"})]}),(0,s.jsx)("div",{onClick:()=>y("hideDuringSolve"),className:"w-12 h-6 rounded-full relative cursor-pointer transition-colors ".concat(a.hideDuringSolve?"bg-blue-600":"bg-gray-600"),children:(0,s.jsx)("div",{className:"absolute w-5 h-5 rounded-full bg-white top-0.5 transition-transform ".concat(a.hideDuringSolve?"translate-x-6":"translate-x-0.5")})})]})]}),(0,s.jsxs)(h,{value:"appearance",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("label",{className:"flex-1",children:"Dark mode"}),(0,s.jsx)("div",{onClick:()=>y("darkMode"),className:"w-12 h-6 rounded-full relative cursor-pointer transition-colors ".concat(a.darkMode?"bg-blue-600":"bg-gray-600"),children:(0,s.jsx)("div",{className:"absolute w-5 h-5 rounded-full bg-white top-0.5 transition-transform ".concat(a.darkMode?"translate-x-6":"translate-x-0.5")})})]}),(0,s.jsxs)("div",{className:"p-4 border rounded-md border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-800",children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Theme Preview"}),(0,s.jsx)("p",{className:"text-sm mb-4",children:"This is how the app will look with the current settings."}),(0,s.jsxs)("div",{className:"w-full h-24 rounded-md ".concat(a.darkMode?"bg-gray-900":"bg-white"," relative overflow-hidden border ").concat(a.darkMode?"border-gray-700":"border-gray-300"),children:[(0,s.jsx)("div",{className:"absolute top-2 left-2 text-xs ".concat(a.darkMode?"text-gray-400":"text-gray-600"),children:"Timer Preview"}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-3xl font-mono font-bold ".concat(a.darkMode?"text-white":"text-black"),children:"12.34s"})]})]})]}),(0,s.jsxs)(h,{value:"advanced",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("label",{className:"flex-1",children:"Debug mode"}),(0,s.jsx)("div",{onClick:()=>y("debugMode"),className:"w-12 h-6 rounded-full relative cursor-pointer transition-colors ".concat(a.debugMode?"bg-blue-600":"bg-gray-600"),children:(0,s.jsx)("div",{className:"absolute w-5 h-5 rounded-full bg-white top-0.5 transition-transform ".concat(a.debugMode?"translate-x-6":"translate-x-0.5")})})]}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)("label",{className:"flex-1 text-sm text-gray-500",children:"(Shows debug buttons and info panel)"})}),(0,s.jsxs)("div",{className:"mt-4 p-4 border border-yellow-400 dark:border-yellow-600 bg-yellow-50 dark:bg-yellow-900/30 rounded-md",children:[(0,s.jsx)("h3",{className:"text-yellow-800 dark:text-yellow-300 font-medium mb-1",children:"Data Management"}),(0,s.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 mb-3",children:"Be careful: This will delete all your solve history permanently."}),(0,s.jsx)(i,{variant:"destructive",onClick:()=>{l()},className:"w-full",children:"Reset All Solve History"})]}),(0,s.jsxs)("div",{className:"mt-4 p-4 border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 rounded-md",children:[(0,s.jsx)("h3",{className:"font-medium mb-1",children:"Reset to Defaults"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"This will reset all settings to their default values."}),(0,s.jsx)(i,{variant:"secondary",onClick:()=>{let e={useSpaceBar:!0,useInspection:!1,inspectionDuration:15,useSounds:!0,darkMode:!0,debugMode:!1,hideDuringSolve:!1,useHoldDelay:!0};o(e),r(e),localStorage.setItem("cuboSettings",JSON.stringify(e))},className:"w-full",children:"Reset All Settings"})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end mt-6",children:(0,s.jsx)(i,{onClick:()=>{r(a),localStorage.setItem("cuboSettings",JSON.stringify(a)),g(!1)},children:"Save Settings"})})]})]})}function _(e){let{scramble:t,cubeType:r}=e,[l,a]=(0,n.useState)(null),i=(0,n.useRef)(null),o={U:"#FFFFFF",R:"#FF0000",F:"#00AF00",D:"#FFFF00",L:"#FF8000",B:"#0000FF"},c=3;if(r.includes("x")){let e=r.match(/(\d+)x\d+/);e&&(c=parseInt(e[1],10))}(0,n.useEffect)(()=>{if(!t||"Loading..."===t)return void d();try{u(t)}catch(e){console.error("Error visualizing scramble:",e),d()}},[t,r,c]);let d=()=>{let e={U:Array(c*c).fill(o.U),R:Array(c*c).fill(o.R),F:Array(c*c).fill(o.F),D:Array(c*c).fill(o.D),L:Array(c*c).fill(o.L),B:Array(c*c).fill(o.B)};a(S(c,e).render())},u=e=>{try{let t=h(),r=e.trim().split(/\s+/);m(t,r);let s=b(t),l=S(c,s);a(l.render())}catch(e){console.error("Error visualizing scramble:",e),d()}},h=()=>{let e={},t=Math.max(2,Math.min(7,c));for(let r of"URFDLB")e[r]=Array(t*t).fill(r);return e},m=(e,t)=>{for(let r of t){let{face:t,depth:s,amount:l}=x(r);if(!t||!e[t]){console.warn("Skipping invalid or unknown move: '".concat(r,"' (parsed face: '").concat(t,"')"));continue}try{f(e,t,s,l)}catch(e){console.error("Error applying move '".concat(r,"' to face '").concat(t,"':"),e)}}},x=e=>{if(["M","E","S"].includes(e[0])){let t={M:{face:"L",depth:Math.floor(c/2)+c%2,reverse:!0},E:{face:"D",depth:Math.floor(c/2)+c%2,reverse:!1},S:{face:"F",depth:Math.floor(c/2)+c%2,reverse:!1}}[e[0]],r=1;return e.length>1&&("2"===e[1]?r=2:"'"===e[1]&&(r=3)),t.reverse&&(r=(4-r)%4),{face:t.face,depth:t.depth,amount:r}}let t=e[0],r=1,s=1,l=1,a="";for(;l<e.length&&!isNaN(parseInt(e[l]));)a+=e[l],l++;return a?r=parseInt(a):l<e.length&&"w"===e[l]&&(r=2,l++),l<e.length&&("2"===e[l]?s=2:"'"===e[l]&&(s=3)),{face:t,depth:r,amount:s}},f=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;for(let l=0;l<s;l++)r>=1&&p(e,t),g(e,t,r)},p=(e,t)=>{try{if(!e[t]||!Array.isArray(e[t]))return void console.error("Invalid face: ".concat(t," is not an array"),e[t]);let r=[...e[t]],s=Array(c*c).fill(null);for(let e=0;e<c;e++)for(let t=0;t<c;t++){let l=t,a=c-1-e,n=e*c+t;s[l*c+a]=r[n]}e[t]=s}catch(e){console.error("Error rotating face '".concat(t,"':"),e)}},g=(e,t,r)=>{let s=[[],[],[],[]];if("U"===t){for(let t=0;t<r;t++)for(let r=0;r<c;r++)s[0].push(e.B[t*c+r]),s[1].push(e.R[t*c+r]),s[2].push(e.F[t*c+r]),s[3].push(e.L[t*c+r]);y(s);for(let t=0;t<r;t++)for(let r=0;r<c;r++)e.B[t*c+r]=s[0][t*c+r],e.R[t*c+r]=s[1][t*c+r],e.F[t*c+r]=s[2][t*c+r],e.L[t*c+r]=s[3][t*c+r]}else if("D"===t){for(let t=0;t<r;t++)for(let r=0;r<c;r++)s[0].push(e.F[(c-1-t)*c+r]),s[1].push(e.R[(c-1-t)*c+r]),s[2].push(e.B[(c-1-t)*c+r]),s[3].push(e.L[(c-1-t)*c+r]);y(s);for(let t=0;t<r;t++)for(let r=0;r<c;r++)e.F[(c-1-t)*c+r]=s[0][t*c+r],e.R[(c-1-t)*c+r]=s[1][t*c+r],e.B[(c-1-t)*c+r]=s[2][t*c+r],e.L[(c-1-t)*c+r]=s[3][t*c+r]}else if("F"===t){for(let t=0;t<r;t++)for(let r=0;r<c;r++)s[0].push(e.U[(c-1-t)*c+r]),s[1].push(e.R[r*c+t]),s[2].push(e.D[t*c+(c-1-r)]),s[3].push(e.L[(c-1-r)*c+(c-1-t)]);y(s);for(let t=0;t<r;t++)for(let r=0;r<c;r++)e.U[(c-1-t)*c+r]=s[0][t*c+r],e.R[r*c+t]=s[1][t*c+r],e.D[t*c+(c-1-r)]=s[2][t*c+r],e.L[(c-1-r)*c+(c-1-t)]=s[3][t*c+r]}else if("B"===t){for(let t=0;t<r;t++)for(let r=0;r<c;r++)s[0].push(e.U[t*c+(c-1-r)]),s[1].push(e.L[r*c+t]),s[2].push(e.D[(c-1-t)*c+r]),s[3].push(e.R[(c-1-r)*c+(c-1-t)]);y(s);for(let t=0;t<r;t++)for(let r=0;r<c;r++)e.U[t*c+(c-1-r)]=s[0][t*c+r],e.L[r*c+t]=s[1][t*c+r],e.D[(c-1-t)*c+r]=s[2][t*c+r],e.R[(c-1-r)*c+(c-1-t)]=s[3][t*c+r]}else if("R"===t){for(let t=0;t<r;t++)for(let r=0;r<c;r++)s[0].push(e.U[r*c+(c-1-t)]),s[1].push(e.B[(c-1-r)*c+t]),s[2].push(e.D[r*c+(c-1-t)]),s[3].push(e.F[r*c+(c-1-t)]);y(s);for(let t=0;t<r;t++)for(let r=0;r<c;r++)e.U[r*c+(c-1-t)]=s[0][t*c+r],e.B[(c-1-r)*c+t]=s[1][t*c+r],e.D[r*c+(c-1-t)]=s[2][t*c+r],e.F[r*c+(c-1-t)]=s[3][t*c+r]}else if("L"===t){for(let t=0;t<r;t++)for(let r=0;r<c;r++)s[0].push(e.U[r*c+t]),s[1].push(e.F[r*c+t]),s[2].push(e.D[r*c+t]),s[3].push(e.B[(c-1-r)*c+(c-1-t)]);y(s);for(let t=0;t<r;t++)for(let r=0;r<c;r++)e.U[r*c+t]=s[0][t*c+r],e.F[r*c+t]=s[1][t*c+r],e.D[r*c+t]=s[2][t*c+r],e.B[(c-1-r)*c+(c-1-t)]=s[3][t*c+r]}},y=e=>{let t=[...e[3]];e[3]=[...e[2]],e[2]=[...e[1]],e[1]=[...e[0]],e[0]=[...t]},b=e=>{let t={};for(let r of"URFDLB")t[r]=e[r].map(e=>o[e]);return t};return(0,s.jsx)("div",{ref:i,className:"cstimer-visualizer relative w-full",children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mx-auto",dangerouslySetInnerHTML:{__html:l}}),(0,s.jsx)("div",{className:"absolute bottom-2 right-2 text-xs text-gray-500",children:(0,s.jsx)("span",{title:"Visualization based on CSTimer",children:(0,s.jsxs)("a",{href:"https://github.com/cs0x7f/cstimer",target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-blue-500",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,s.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,s.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),(0,s.jsx)("span",{className:"ml-1",children:"CSTimer"})]})})})]}):(0,s.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,s.jsx)("span",{children:"Loading visualization..."})})})}let A=()=>(0,s.jsx)(a(),{id:"a406ad2612a31a67",children:".focused-mode{display:-webkit-box!important;display:-webkit-flex!important;display:-moz-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center!important;-webkit-justify-content:center!important;-moz-box-pack:center!important;-ms-flex-pack:center!important;justify-content:center!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-moz-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;height:100vh!important;position:fixed!important;top:0!important;left:0!important;width:100%!important;z-index:1000!important}.focused-timer{font-size:8rem!important;text-align:center!important;margin:0!important;padding:0!important}"}),M={"2x2":["U","U'","U2","R","R'","R2","F","F'","F2"],"3x3":["U","U'","U2","R","R'","R2","F","F'","F2","D","D'","D2","L","L'","L2","B","B'","B2"],"4x4":["U","U'","U2","R","R'","R2","F","F'","F2","D","D'","D2","L","L'","L2","B","B'","B2","Rw","Rw'","Rw2","Lw","Lw'","Lw2","Uw","Uw'","Uw2","Dw","Dw'","Dw2","Fw","Fw'","Fw2","Bw","Bw'","Bw2"],"5x5":["U","U'","U2","R","R'","R2","F","F'","F2","D","D'","D2","L","L'","L2","B","B'","B2","Rw","Rw'","Rw2","Lw","Lw'","Lw2","Uw","Uw'","Uw2","Dw","Dw'","Dw2","Fw","Fw'","Fw2","Bw","Bw'","Bw2","3Rw","3Rw'","3Rw2","3Lw","3Lw'","3Lw2","3Uw","3Uw'","3Uw2","3Dw","3Dw'","3Dw2","3Fw","3Fw'","3Fw2","3Bw","3Bw'","3Bw2"],"6x6":["U","U'","U2","R","R'","R2","F","F'","F2","D","D'","D2","L","L'","L2","B","B'","B2","Rw","Rw'","Rw2","Lw","Lw'","Lw2","Uw","Uw'","Uw2","Dw","Dw'","Dw2","Fw","Fw'","Fw2","Bw","Bw'","Bw2","3Rw","3Rw'","3Rw2","3Lw","3Lw'","3Lw2","3Uw","3Uw'","3Uw2","3Dw","3Dw'","3Dw2","3Fw","3Fw'","3Fw2","3Bw","3Bw'","3Bw2"],"7x7":["U","U'","U2","R","R'","R2","F","F'","F2","D","D'","D2","L","L'","L2","B","B'","B2","Rw","Rw'","Rw2","Lw","Lw'","Lw2","Uw","Uw'","Uw2","Dw","Dw'","Dw2","Fw","Fw'","Fw2","Bw","Bw'","Bw2","3Rw","3Rw'","3Rw2","3Lw","3Lw'","3Lw2","3Uw","3Uw'","3Uw2","3Dw","3Dw'","3Dw2","3Fw","3Fw'","3Fw2","3Bw","3Bw'","3Bw2"],pyraminx:["U","U'","L","L'","R","R'","B","B'","u","u'","l","l'","r","r'","b","b'"],skewb:["U","U'","L","L'","R","R'","B","B'"],sq1:["(0,1)","(1,0)","(1,1)","(2,0)","(0,2)","(3,0)","(0,3)","(2,2)","(4,0)","(0,4)","(3,3)","(2,-1)","(-1,2)","(1,-2)","(-2,1)","/"],clock:["UR","DR","DL","UL","U","R","D","L","ALL"]};function z(e){let t;if("clock"===e)return function(){let e=[],t=["UR","DR","DL","UL","U","R","D","L","ALL"];for(let r=0;r<9;r++){let s=Math.floor(12*Math.random())-5;e.push("".concat(t[r]).concat(s>=0?"+":"").concat(s))}let r=[],s=["y","y'","x","x'"];for(let e=0;e<4;e++).5>Math.random()&&r.push(s[Math.floor(Math.random()*s.length)]);return e.join(" ")+(r.length?" "+r.join(" "):"")}();let r=M[e]||M["3x3"],s=[],l="",a="",n=t=>"sq1"===e?"/"===t||"/'"===t?"/":"slice":t.replace(/[w'23]/g,"").toUpperCase(),i=(t,r)=>"sq1"===e?t===r:"U"===t&&"D"===r||"D"===t&&"U"===r||"R"===t&&"L"===r||"L"===t&&"R"===r||"F"===t&&"B"===r||"B"===t&&"F"===r;t="2x2"===e?9:"3x3"===e?20:"4x4"===e?40:"5x5"===e?60:"6x6"===e||"7x7"===e?80:"pyraminx"===e?10:"skewb"===e?8:"sq1"===e?24:"clock"===e?14:20;for(let o=0;o<t;o++){let t,c;do if(c=n(t=r[Math.floor(Math.random()*r.length)]),"sq1"===e&&o>0&&("/"===l||"/'"===l||""===l)==("/"===t||"/'"===t))continue;while(c===a||l&&i(c,a));s.push(t),l=t,a=c}if("pyraminx"===e){let e=["u","u'","l","l'","r","r'","b","b'"],t=new Set;for(let r=0;r<4;r++)if(.5>Math.random()){let r;for(;;){let s=(r=e[Math.floor(8*Math.random())]).charAt(0);if(!t.has(s)){t.add(s);break}}s.push(r)}}return s.join(" ")}let T=(e,t)=>{if(e.length<t)return null;let r=e.slice(-t),s=r.filter(e=>"DNF"===e.status).length;if(t>=5&&s>1)return"DNF";let l=r.filter(e=>"DNF"!==e.status);if(l.length<(t>=5?t-2:t))return"DNF";let a=[...l.map(e=>e.time||1e3)].sort((e,t)=>e-t);t>=5&&(a.splice(0,1),a.splice(-1,1));let n=a.reduce((e,t)=>e+t,0);return n>0?n/a.length:1e3},E=(e,t)=>{if(e.length<t)return null;let r=e.slice(-t);if(r.filter(e=>"DNF"===e.status).length>0)return"DNF";let s=r.filter(e=>"DNF"!==e.status);if(s.length<t)return"DNF";let l=s.map(e=>e.time||1e3),a=l.reduce((e,t)=>e+t,0);return a>0?a/l.length:1e3};function I(){var e;let[t,r]=(0,n.useState)(0),[l,a]=(0,n.useState)(!1),[o,m]=(0,n.useState)(null),[g,y]=(0,n.useState)(()=>{{let e=localStorage.getItem("cubeTimes");if(e)try{return JSON.parse(e).map(e=>{if(!e.time||e.time<100){let t=Math.floor(14e3*Math.random())+1e3;return{...e,time:t}}return e})}catch(e){}return[]}}),[v,w]=(0,n.useState)("3x3"),[j,F]=(0,n.useState)("Normal"),[N,R]=(0,n.useState)(()=>{{let e=localStorage.getItem("cubeSessions");return e?JSON.parse(e):{"2x2":["Normal"],"3x3":["Normal"],"4x4":["Normal"],"5x5":["Normal"],"6x6":["Normal"],"7x7":["Normal"],pyraminx:["Normal"],skewb:["Normal"],sq1:["Normal"],clock:["Normal"]}}}),[S,L]=(0,n.useState)(!1),[D,k]=(0,n.useState)(""),[U,M]=(0,n.useState)("Loading..."),[I,O]=(0,n.useState)("idle"),[P,H]=(0,n.useState)(!0),[q,J]=(0,n.useState)(!1),[W,V]=(0,n.useState)(0),[K,$]=(0,n.useState)(!1),[G,Y]=(0,n.useState)(!1),[Q,X]=(0,n.useState)(""),[Z,ee]=(0,n.useState)(!1),[et,er]=(0,n.useState)(!1),[es,el]=(0,n.useState)(""),[ea,en]=(0,n.useState)(""),[ei,eo]=(0,n.useState)(!1),[ec,ed]=(0,n.useState)(()=>{{let e=localStorage.getItem("cuboSettings");return e?JSON.parse(e):{useSpaceBar:!0,useInspection:!1,inspectionDuration:15,useSounds:!0,darkMode:!0,debugMode:!1,hideDuringSolve:!1,useHoldDelay:!0}}});(0,n.useEffect)(()=>{M(z(v))},[v]);let eu=e=>{e<0&&(e=0);let t=(e/1e3).toFixed(2);return"".concat(t,"s")},eh=()=>{$(!0),V(ec.inspectionDuration)},em=(0,n.useCallback)(e=>{y(t=>{let r=[...t,e];try{localStorage.setItem("cubeTimes",JSON.stringify(r))}catch(e){}return r})},[]),ex=(0,n.useCallback)(()=>{if(l){let e=Date.now(),t=e-o;a(!1),m(null),r(t),t>=100&&(em({time:t,originalTime:t,scramble:U,cubeType:v,session:j,status:"OK",timestamp:e}),M(z(v)))}else m(Date.now()),r(0),a(!0)},[l,o,t,U,v,em]);(0,n.useEffect)(()=>{let e=e=>{"Space"===e.code&&ec.useSpaceBar&&(e.preventDefault(),l||K||"idle"!==I||(!ec.useHoldDelay||ec.useInspection?O("ready"):(O("pre-start"),setTimeout(()=>O("ready"),500))))},t=e=>{"Space"===e.code&&ec.useSpaceBar&&(e.preventDefault(),"ready"===I?ec.useInspection&&!K?eh():ex():l?ex():K&&($(!1),ex()),O("idle"))};return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[l,I,ec.useSpaceBar,ec.useInspection,ec.useHoldDelay,K,ex]),(0,n.useEffect)(()=>{let e;if(l&&o){let t=()=>{r(Date.now()-o),e=requestAnimationFrame(t)};e=requestAnimationFrame(t)}return()=>{e&&cancelAnimationFrame(e)}},[l,o]),(0,n.useEffect)(()=>{let e;return K&&(e=setInterval(()=>{V(t=>(ec.useSounds&&15===ec.inspectionDuration&&(7===t||3===t)&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:880,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2;try{let s=new(window.AudioContext||window.webkitAudioContext),l=s.createOscillator(),a=s.createGain();l.type="sine",l.frequency.value=e,a.gain.value=r,l.connect(a),a.connect(s.destination),l.start(),setTimeout(()=>{l.stop(),s.close()},t)}catch(e){}}(3===t?1200:880,120,.25),t<=1)?(clearInterval(e),$(!1),ex(),0):t-1)},1e3)),()=>clearInterval(e)},[K,ex,ec.useSounds,ec.inspectionDuration]),(0,n.useEffect)(()=>{g.length>0&&localStorage.setItem("cubeTimes",JSON.stringify(g))},[g]);let ef=(e,t)=>{y(r=>{let s=r.map((r,s)=>s===e?{...r,...t}:r);return localStorage.setItem("cubeTimes",JSON.stringify(s)),s})},ep=e=>{y(t=>{let r=t.filter((t,r)=>r!==e);return localStorage.setItem("cubeTimes",JSON.stringify(r)),r})},eg=()=>{y([]),localStorage.removeItem("cubeTimes")},ey=(0,n.useCallback)(e=>{let t="DNF"===e.status?"DNF":"".concat((e.time/1e3).toFixed(2),"s");X("".concat(e.cubeType,":\n").concat(t,"\n\n").concat(e.scramble)),Y(!0),ee(!1)},[]),eb=async e=>{try{if(navigator.clipboard&&window.isSecureContext){await navigator.clipboard.writeText(e),ee(!0),setTimeout(()=>ee(!1),2e3);return}let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();let r=document.execCommand("copy");if(document.body.removeChild(t),r)ee(!0),setTimeout(()=>ee(!1),2e3);else throw Error("Copy command failed")}catch(e){alert("Unable to copy automatically. Please manually select and copy the text above.")}},ev=()=>{let e=parseFloat(es);if(isNaN(e)||e<=0)return void alert("Please enter a valid time (e.g., 12.34)");let t=Math.round(1e3*e);if(t<100||t>999e3)return void alert("Time must be between 0.1 and 999 seconds");em({time:t,originalTime:t,scramble:ea.trim()||U,cubeType:v,session:j,status:"OK",timestamp:Date.now(),manual:!0}),el(""),en(""),er(!1),ea.trim()||M(z(v))},ew=e=>{"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),es.trim()&&ev())},ej=e=>{let t,{solve:r,index:l}=e;t="DNF"===r.status?"DNF":null==r.time||r.time<10?"--":"".concat((r.time/1e3).toFixed(2),"s");let a="";if("+2"===r.status){let e=r.originalTime?Math.floor((r.time-r.originalTime)/2e3):1;a=e>1?"(+".concat(2*e,")"):"(+2)"}else r.status&&"OK"!==r.status&&"DNF"!==r.status&&(a="(".concat(r.status,")"));return(0,s.jsxs)("li",{className:"".concat(ec.darkMode?"bg-gray-800":"bg-white"," shadow border ").concat(ec.darkMode?"border-gray-700":"border-gray-200"," rounded-lg px-3 py-2 space-y-1"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("span",{className:"font-medium",children:["Solve #",l+1,":"]}),(0,s.jsxs)("span",{className:"font-mono font-bold text-lg",children:[t," ",a]})]}),(0,s.jsx)("div",{className:"text-sm ".concat(ec.darkMode?"text-gray-400":"text-gray-600"),children:r.scramble}),(0,s.jsxs)("div",{className:"flex gap-2 text-sm mt-1 flex-wrap",children:[(0,s.jsx)(i,{onClick:()=>{let e=r.originalTime||r.time,t=Math.max(0,Math.floor((r.time-e)/2e3));ef(l,{status:"+2",time:e+(t+1)*2e3,originalTime:e})},size:"sm",children:"+2"}),(0,s.jsx)(i,{onClick:()=>ef(l,{status:"DNF",time:null}),size:"sm",variant:"destructive",children:"DNF"}),(0,s.jsx)(i,{onClick:()=>{let e=r.originalTime||r.time;ef(l,{status:"OK",time:e,originalTime:e})},size:"sm",variant:"secondary",children:"OK"}),(0,s.jsx)(i,{onClick:()=>ep(l),size:"sm",variant:"outline",children:"Delete"}),(0,s.jsx)(i,{onClick:()=>eF(l),size:"sm",children:"Retry"}),(0,s.jsx)(i,{onClick:()=>ey(r),size:"sm",variant:"outline",children:"Share"})]})]})},eF=e=>{r(0),a(!1),m(null),$(!1);let t=z(v);M(t),ef(e,{scramble:t,status:"Retry"}),ec.useInspection&&eh()},eN=(0,n.useCallback)(()=>{ex()},[ex]),eR=g.filter(e=>e.cubeType===v&&e.session===j).map(e=>!e.time||e.time<100?{...e,time:1e3}:e),eS=e=>{if(w(e),!N[e]){let t={...N,[e]:["Normal"]};R(t),localStorage.setItem("cubeSessions",JSON.stringify(t)),F("Normal");return}N[e].includes(j)||F(N[e][0])},eL=()=>{if(!D.trim())return void alert("Please enter a session name");if(N[v]||(N[v]=["Normal"]),N[v].includes(D.trim()))return void alert("A session with this name already exists");let e={...N,[v]:[...N[v],D.trim()]};R(e),localStorage.setItem("cubeSessions",JSON.stringify(e)),F(D.trim()),k(""),L(!1)},eD=e=>{if(!N[v]){N[v]=["Normal"];return}if(N[v].length<=1)return void alert("Cannot delete the last session");let t={...N,[v]:N[v].filter(t=>t!==e)};R(t),localStorage.setItem("cubeSessions",JSON.stringify(t)),j===e&&F(t[v][0])},ek=l&&ec.hideDuringSolve;return(0,s.jsxs)("div",{className:"min-h-screen ".concat(ec.darkMode?"bg-gray-900":"bg-gray-50"," ").concat(ec.darkMode?"text-white":"text-gray-900"," flex flex-col md:flex-row items-start justify-start gap-6 p-4 ").concat(ek?"focused-mode":""),children:[(0,s.jsx)(A,{}),!ek&&(0,s.jsx)(b,{cubeType:v}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-6 mx-auto max-w-3xl",children:[!ek&&(0,s.jsxs)("div",{className:"w-full flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Twibix"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(x,{children:[(0,s.jsx)(f,{asChild:!0,children:(0,s.jsx)(i,{size:"sm",variant:"outline",className:"p-2 h-8 w-8 text-sm border-2 hover:bg-gray-100 dark:hover:bg-gray-700",title:"About Twibix",children:"ℹ️"})}),(0,s.jsx)(p,{className:"".concat(ec.darkMode?"bg-gray-800 text-white":"bg-white text-gray-900"," p-6 max-w-md mx-auto"),children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:"About Twibix"}),(0,s.jsx)("p",{children:"Twibix is a Rubik's Cube timer app developed by a teen cube enthusiast."}),(0,s.jsx)("p",{children:"This is an open source project under the GPL-3.0 license."}),(0,s.jsx)("div",{className:"flex items-center mt-4",children:(0,s.jsxs)("a",{href:"https://github.com/Ben4707573/Twibix",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-github",children:(0,s.jsx)("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})}),"GitHub Repository"]})})]})})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,s.jsx)(B,{settings:ec,setSettings:ed,onResetHistory:eg}),(0,s.jsx)(i,{onClick:()=>M(z(v)),size:"sm",variant:"outline",className:"p-2 h-8 w-8 text-sm border-2 hover:bg-gray-100 dark:hover:bg-gray-700",title:"Skip Scramble",children:"↻"})]})]})]}),!ek&&(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("select",{value:v,onChange:e=>eS(e.target.value),className:"".concat(ec.darkMode?"bg-gray-800 text-white":"bg-white text-gray-800"," rounded p-2 text-lg"),children:[(0,s.jsx)("option",{value:"2x2",children:"2x2"}),(0,s.jsx)("option",{value:"3x3",children:"3x3"}),(0,s.jsx)("option",{value:"4x4",children:"4x4"}),(0,s.jsx)("option",{value:"5x5",children:"5x5"}),(0,s.jsx)("option",{value:"6x6",children:"6x6"}),(0,s.jsx)("option",{value:"7x7",children:"7x7"}),(0,s.jsx)("option",{value:"pyraminx",children:"Pyraminx"}),(0,s.jsx)("option",{value:"skewb",children:"Skewb"}),(0,s.jsx)("option",{value:"sq1",children:"Square-1"}),(0,s.jsx)("option",{value:"clock",children:"Clock"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("select",{value:j,onChange:e=>F(e.target.value),className:"".concat(ec.darkMode?"bg-gray-800 text-white":"bg-white text-gray-800"," rounded p-2 text-lg"),children:N[v]?N[v].map(e=>(0,s.jsx)("option",{value:e,children:e},e)):(0,s.jsx)("option",{value:"Normal",children:"Normal"})}),(0,s.jsx)(i,{onClick:()=>L(!0),size:"sm",variant:"outline",className:"text-xs px-2 py-1",title:"Add New Session",children:"+"}),N[v]&&N[v].length>1&&(0,s.jsx)(i,{onClick:()=>eD(j),size:"sm",variant:"destructive",className:"text-xs px-2 py-1",title:"Delete Current Session",children:"\xd7"})]})]}),!ek&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-lg ".concat(ec.darkMode?"text-yellow-300":"text-yellow-600"),children:"Scramble:"}),(0,s.jsx)("div",{className:"font-mono text-xl whitespace-pre-wrap max-w-md",children:U.split(" ").map((e,t)=>(0,s.jsx)("span",{className:"inline-block dark:bg-gray-700 bg-gray-200 dark:text-white text-gray-800 px-2 py-1 rounded m-0.5",children:e},t))})]}),K?(0,s.jsxs)("div",{className:"text-center relative py-8",children:[(0,s.jsxs)("div",{className:"text-6xl font-mono ".concat(W<=5?"text-red-500":ec.darkMode?"text-yellow-400":"text-yellow-600"),children:[W,"s"]}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 mt-2",children:["Inspection time: ",ec.inspectionDuration,"s"]})]}):(0,s.jsxs)("div",{className:"text-6xl font-mono font-bold cursor-pointer select-none relative ".concat("pre-start"===I?"text-red-500":"ready"===I?"text-green-400":""," ").concat(ek?"focused-timer":""),onClick:()=>{if(!K)if(l){let e=Date.now(),t=e-o;a(!1),m(null),r(t),t>=100&&(em({time:t,originalTime:t,scramble:U,cubeType:v,session:j,status:"OK",timestamp:e}),M(z(v)))}else ec.useInspection?eh():(m(Date.now()),r(0),a(!0))},children:[((e=t)<0&&(e=0),(e/1e3).toFixed(2)),"s",!l&&!K&&ec.useInspection&&(0,s.jsxs)("div",{className:"text-xs text-gray-500 absolute bottom-[-20px] left-1/2 transform -translate-x-1/2 whitespace-nowrap",children:["Press to start ",ec.inspectionDuration,"s inspection"]})]}),(0,s.jsx)(i,{onClick:K?()=>{$(!1),eN()}:eN,className:"text-xl px-6 py-3",children:K?"Skip Inspection":l?"Stop":"Start"}),!ek&&(0,s.jsxs)("div",{className:"mt-4 ".concat(ec.darkMode?"bg-gray-800":"bg-white"," shadow-md p-4 rounded-lg w-full max-w-md border ").concat(ec.darkMode?"border-gray-700":"border-gray-200"),children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-3 text-center",children:"Averages"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"MO3:"}),(0,s.jsx)("span",{className:"font-mono font-bold text-lg",children:(()=>{let e=E(eR,3);return"DNF"===e?"DNF":e?eu(e):"-"})()})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"AO5:"}),(0,s.jsx)("span",{className:"font-mono font-bold text-lg",children:(()=>{let e=T(eR,5);return"DNF"===e?"DNF":e?eu(e):"-"})()})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"AO12:"}),(0,s.jsx)("span",{className:"font-mono font-bold text-lg",children:(()=>{let e=T(eR,12);return"DNF"===e?"DNF":e?eu(e):"-"})()})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"AO100:"}),(0,s.jsx)("span",{className:"font-mono font-bold text-lg",children:(()=>{let e=T(eR,100);return"DNF"===e?"DNF":e?eu(e):"-"})()})]})]})]}),(0,s.jsxs)(x,{open:q,onOpenChange:J,children:[(0,s.jsx)(f,{asChild:!0,children:(0,s.jsx)(i,{variant:"destructive",children:"Clear All Solves"})}),(0,s.jsxs)(p,{className:"".concat(ec.darkMode?"bg-gray-800 text-white":"bg-white text-gray-900"),children:[(0,s.jsx)("h2",{className:"text-xl mb-4",children:"Are you sure you want to delete all solves?"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(i,{variant:"destructive",onClick:()=>{eg(),J(!1)},children:"Yes"}),(0,s.jsx)(i,{variant:"secondary",onClick:()=>J(!1),children:"No"})]})]})]}),(0,s.jsx)(x,{open:G,onOpenChange:Y,children:(0,s.jsx)(p,{className:"".concat(ec.darkMode?"bg-gray-800 text-white":"bg-white text-gray-900"," max-w-md"),children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Share Solve"}),(0,s.jsx)("div",{className:"".concat(ec.darkMode?"bg-gray-700":"bg-gray-100"," rounded-lg p-4 mb-4 select-all"),children:(0,s.jsx)("pre",{className:"text-left font-mono whitespace-pre-wrap text-sm",children:Q})}),(0,s.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,s.jsx)(i,{onClick:()=>eb(Q),className:"flex-1 ".concat(Z?"bg-green-600 hover:bg-green-700":""),children:Z?"✓ Copied!":"Copy to Clipboard"}),(0,s.jsx)(i,{variant:"secondary",onClick:()=>{Y(!1),ee(!1)},className:"flex-1",children:"Close"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Tip: You can also select and copy the text manually"})]})})}),(0,s.jsx)(x,{open:et,onOpenChange:er,children:(0,s.jsx)(p,{className:"".concat(ec.darkMode?"bg-gray-800 text-white":"bg-white text-gray-900"," max-w-md"),children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-center",children:"Add Manual Solve"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Time (seconds)"}),(0,s.jsx)("input",{type:"number",step:"0.01",min:"0.1",max:"999",value:es,onChange:e=>el(e.target.value),onKeyDown:ew,placeholder:"12.34",className:"w-full px-3 py-2 rounded border ".concat(ec.darkMode?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900"),autoFocus:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Scramble (optional)"}),(0,s.jsx)("textarea",{value:ea,onChange:e=>en(e.target.value),onKeyDown:ew,placeholder:"Leave empty to use current scramble:\n".concat(U),rows:3,className:"w-full px-3 py-2 rounded border resize-none ".concat(ec.darkMode?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900")})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-center pt-2",children:[(0,s.jsx)(i,{onClick:ev,className:"flex-1",disabled:!es.trim(),children:"Add Solve"}),(0,s.jsx)(i,{variant:"secondary",onClick:()=>{er(!1),el(""),en("")},className:"flex-1",children:"Cancel"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Enter time in seconds (e.g., 12.34 for 12.34 seconds)"})]})})}),(0,s.jsx)(x,{open:S,onOpenChange:L,children:(0,s.jsx)(p,{className:"".concat(ec.darkMode?"bg-gray-800 text-white":"bg-white text-gray-900"," max-w-md"),children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-center",children:"Create New Session"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Session Name"}),(0,s.jsx)("input",{type:"text",value:D,onChange:e=>k(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),eL())},placeholder:"Enter session name (e.g., FMC, Test, Practice)",className:"w-full px-3 py-2 rounded border ".concat(ec.darkMode?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900"),autoFocus:!0})]}),(0,s.jsxs)("div",{className:"flex gap-2 justify-center pt-2",children:[(0,s.jsx)(i,{onClick:eL,className:"flex-1",disabled:!D.trim(),children:"Create Session"}),(0,s.jsx)(i,{variant:"secondary",onClick:()=>{L(!1),k("")},className:"flex-1",children:"Cancel"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Create custom session names for different solving styles or practice types"})]})})})]}),!ek&&(0,s.jsx)("div",{className:"w-full md:w-96 h-full sticky top-4",children:(0,s.jsxs)(c,{defaultValue:"solves",className:"h-full flex flex-col",children:[(0,s.jsxs)(d,{className:"w-full grid grid-cols-2",children:[(0,s.jsx)(u,{value:"solves",className:"w-full",children:"Solve History"}),(0,s.jsx)(u,{value:"visualizer",className:"w-full",children:"Scramble View"})]}),(0,s.jsxs)(h,{value:"solves",className:"flex-grow overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"sticky top-0 z-10 ".concat(ec.darkMode?"bg-gray-900":"bg-gray-100"," pb-2"),children:[(0,s.jsxs)("h2",{className:"text-xl mb-2 mt-4 font-semibold",children:["Solve History (",v," - ",j,") - ",eR.length," solves"]}),(0,s.jsx)(i,{onClick:()=>er(!0),size:"sm",className:"w-full mb-2",variant:"outline",children:"+ Add Manual Solve"})]}),(0,s.jsx)("div",{className:"overflow-y-auto flex-grow pr-2 custom-scrollbar",style:{maxHeight:"calc(100vh - 220px)",scrollbarWidth:"thin"},children:eR.length>0?(0,s.jsx)("ul",{className:"space-y-2",children:eR.slice().reverse().map((e,t)=>{let r=eR.length-1-t;return(0,s.jsx)(ej,{solve:e,index:r},"solve-".concat(r,"-").concat(e.timestamp||t))})}):(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No solves yet. Complete a solve to see it here."})})]}),(0,s.jsxs)(h,{value:"visualizer",className:"flex-grow",children:[(0,s.jsx)("h2",{className:"text-xl mb-4 mt-4 text-center ".concat(ec.darkMode?"bg-gray-900":"bg-gray-100"," pb-2 font-semibold"),children:"Scramble Visualizer"}),["2x2","3x3","4x4","5x5","6x6","7x7"].includes(v)?(0,s.jsx)(_,{scramble:U,cubeType:v}):(0,s.jsx)(C,{scramble:U,cubeType:v})]})]})}),(0,s.jsx)(x,{open:ei,onOpenChange:eo,children:(0,s.jsx)(p,{className:"".concat(ec.darkMode?"bg-gray-800 text-white":"bg-white text-gray-900"," max-w-md"),children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-center",children:"Developer Information"}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("p",{className:"mb-2",children:"This is a timer application for speedcubing, built with React and Tailwind CSS."}),(0,s.jsxs)("p",{className:"mb-2",children:["For more information, visit the"," ",(0,s.jsx)("a",{href:"https://github.com/Ben4707573/Twibix",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"GitHub repository"}),"."]}),(0,s.jsx)("p",{children:"Developed by Ben4707573. \xa9 2025"})]}),(0,s.jsx)("div",{className:"flex gap-2 justify-center pt-2",children:(0,s.jsx)(i,{onClick:()=>eo(!1),className:"flex-1",children:"Close"})})]})})})]})}},8375:()=>{},9137:(e,t,r)=>{"use strict";e.exports=r(2269).style}}]);